<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: RestSource</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: RestSource</h1>

    




<section>

<header>
    
        <h2>
        RestSource
        </h2>
        
    
</header>

<article>
    <div class="container-overview">
    
        

    

    <h4 class="name" id="RestSource"><span class="type-signature"></span>new RestSource<span class="signature">()</span><span class="type-signature"></span></h4>

    



<div class="description">
    RestSource. This is a class that will handle interaction with rest points that change the output depending on constraints passed in as parameters.<br>
   RestSource handles caching, queuing of callbacks, aborts and transfers requests as they come in.<br>
   It is assumed that each declared source will have one current state. That means that if you have two views that render data from this source and some constraintPanels,
   And a view calls .get , it will request the most "current" state of constraint model.<br>
   For example imagine a sequence of events <br> <hr>
   currentUrlState : '/search?q=money'<br>
   1.] source.get(callbackA); callbackA queued for '/search?q=money'<br>
   2.] source.get(callbackB); callbackB queued for '/search?q=money'<br>
   change currentUrlState to : '/search?q=test';<br>
   3.] '/search?q=money' xhr is aborted and callbackA and callbackB transferred to queue for '/search?q=test'<br>
   If you want to derive data from the same url but not bind together, simple create new RestSource of that type. <hr>
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="source.js.html">source.js</a>, <a href="source.js.html#line29">line 29</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>MySource = new Framework.RestSource.extend({
	url : '/search'
	constraintType : "GET",
	ConstraintModelPrototype : MyConstraintModel // see AbstractConstraintModel for details
});

var source = new MySource();
source.get(function(data){
	console.log(data);
});</code></pre>



    
    </div>

    

    

    

     

    

    

    
        <h3 class="subsection-title">Methods</h3>

        
            

    

    <h4 class="name" id="get"><span class="type-signature"></span>get<span class="signature">(callback, errorcallback)</span><span class="type-signature"></span></h4>

    



<div class="description">
    First (if not done so prior), RestSource will collect all Constraint Models from subscribed ConstaintPanels. <br>
Then, this.constraintModel will be created by taking an intersection of all the constraint models.
Then, this.constraintModel.getUrl is called to construct the second part of the server request url that contains search constraints.
Then, RestSource issues ajax call and queues corresponding callbacks
Once Response is received, either callbacks or errorcallbacks are called.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>callback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">function call upon successful response from server.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>errorcallback</code></td>
            

            <td class="type">
            
                
<span class="param-type">function</span>


            
            </td>

            

            

            <td class="description last">function that handles error response from server.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="source.js.html">source.js</a>, <a href="source.js.html#line257">line 257</a>
    </li></ul></dd>
    

    

    

    
</dl>















    <h5>Example</h5>
    
    <pre class="prettyprint"><code>var source = new MySource();
var callback = function(data){
	// ... do stuff with data
}
var errorcallback = function(data){
	// handle error
}
source.get(callback, errorcallback);</code></pre>



        
            

    

    <h4 class="name" id="getConstraintModel"><span class="type-signature"></span>getConstraintModel<span class="signature">()</span><span class="type-signature"></span></h4>

    















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    
    <dt class="tag-source">Source:</dt>
    <dd class="tag-source"><ul class="dummy"><li>
        <a href="source.js.html">source.js</a>, <a href="source.js.html#line231">line 231</a>
    </li></ul></dd>
    

    

    

    
</dl>
















        
    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="-_--%2520add%2520this%2520to%2520remove%2520the%2520warning.html"><-- add this to remove the warning</a></li><li><a href="Framework.AbstractConstraintModel.html">AbstractConstraintModel</a></li><li><a href="Framework.AbstractConstraintPanel.html">AbstractConstraintPanel</a></li><li><a href="Framework.BaseView.html">BaseView</a></li><li><a href="Framework.PaginationPanel.html">PaginationPanel</a></li><li><a href="Framework.PostConstraintModel.html">PostConstraintModel</a></li><li><a href="Framework.RestSource.html">RestSource</a></li><li><a href="Framework.ScrollPaginationPanel.html">ScrollPaginationPanel</a></li></ul><h3>Global</h3><ul><li><a href="global.html#render">render</a></li></ul>
</nav>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.3.3</a> on Mon Nov 02 2015 15:47:18 GMT-0500 (Eastern Standard Time)
</footer>

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>